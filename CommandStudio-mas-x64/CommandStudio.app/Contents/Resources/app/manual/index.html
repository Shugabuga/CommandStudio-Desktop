<!DOCTYPE HTML>
<html lang="en">
<head>

<meta charset="UTF-8">
<title>Manual â€“ CommandStudio</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="../vendor/codemirror/lib/codemirror.css">
<link rel="stylesheet" href="../vendor/codemirror/theme/lesser-dark.css">
<link rel="stylesheet" href="../vendor/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700">
<link rel="stylesheet" href="css/manual.css">

<script src="../vendor/requirejs/require.js"></script>
<script>
require.config( {
  baseUrl: "../js",
  paths: {
    vendor: "../vendor",
    jquery: "../vendor/jquery/jquery-2.2.0.min"
  },
  packages: [ {
    name: "codemirror",
    location: "../vendor/codemirror",
    main: "lib/codemirror"
  } ]
} );

require( [
  "jquery",
  "codemirror",
  "commander.mode"
], function ( $, CodeMirror ) {
  $( function () {
    var options = {
      mode: "commander",
      theme: 'lesser-dark',
      readOnly: true
    };

    $( '.code' ).each( function() {
      options.value = this.innerHTML.trim();
      this.innerHTML = '';
      CodeMirror(this, options);
    });
  } );
} );
</script>

</head>
<body>

<div class="header-background"></div>

<div class="wrapper manual cm-s-lesser-dark">

<h1>CommandStudio</h1>

<h2>What is CommandStudio?</h2>

<p>
  CommandStudio is an editor that let you write complex sequences of command blocks and easily import them into Minecraft.
  It has a lot of convenient tools which will make your life easier.
</p>

<h2>How does it work?</h2>

<p>
  In CommandStudio you work with code instead of command blocks. In your code, each line represents a command block.
</p>

<p>
  If you compile the following code:
</p>

<div class="code">
say hello
say world
summon Zombie ~ ~1 ~
</div>

<p>
  CommandStudio will give you a single command that you have to paste into Minecraft. Once activated this command will
  place all your command blocks in vertical piles. The pile generated by this code will be:
</p>

<div class="commandPile">
  <b class="b-c"></b><b class="b-1"></b> <span class="command">say hello</span><br>
  <b class="b-c"></b><b class="b-1"></b> <span class="command">say world</span><br>
    <b class="b-c"></b><b class="b-1"></b> <span class="command">summon Zombie ~ ~1 ~</span>
</div>

<p class="note">
  <span class="note-title"><i class="fa fa-info-circle"></i> Note:</span><br>
  Commands are in a reversed order because command blocks are oriented upward.
</p>


<h1>Reference</h1>

<h2>Concept</h2>

<p>
  CommandStudio is designed to work with vertical pile of command blocks. Each blocks of the pile is pointing upward.
</p>

<h2>Block attributes</h2>

<p>
  By default, all command blocks will be chained command blocks that don't need redstone to be activated.
  You can change a block attributes by beginning a line with a mask like this one:
</p>

<div class="code">r0:say ok</div>

<p>
  This command block will be a repeating command block that needs redstone to be active.
</p>

<p>
  You can use all those characters to change attributes of a command block:
</p>

<table class="table modifiers">
<tr>
  <th>Modifier</th>
  <th>Effect</th>
</tr>
<tr>
  <td><span class="cm-quote">i</span></td> <td><b class="b-i"></b> The command block will be an impulse command block</td>
</tr>
<tr>
  <td><span class="cm-quote">r</span></td> <td><b class="b-r"></b> The command block will be an repeating command block</td>
</tr>
<tr>
  <td><span class="cm-quote">c</span></td> <td><b class="b-c"></b> The command block will be an chain command block</td>
</tr>
<tr>
  <td><span class="cm-quote">0</span></td> <td><b class="b-0"></b> The command block will need redstone to be active</td>
</tr>
<tr>
  <td><span class="cm-quote">1</span></td> <td><b class="b-1"></b> The command block will always be active</td>
</tr>
<tr>
  <td><span class="cm-quote">?</span></td> <td><b class="b-ic"></b> The command block will be conditionnal</td>
</tr>
<tr>
  <td><span class="cm-quote">!</span></td> <td><b class="b-i"></b> The command block will be unconditionnal</td>
</tr>
</table>

<p>
  By default a block is: <span class="cm-quote">c1!</span>. But you can change it using the keyword <span class="cm-header">default</span>:
</p>

<div class="code">
default r0
say I'm a repeating command block that needs redstone to be active
say Same as above

default 1
say I'm a repeating command block that doesn't need redstone to be active
</div>

<p>
  Will compile to :
</p>

<div class="commandPile">
  <b class="b-r"></b><b class="b-0"></b> <span class="command">say I'm a repeating command block that needs redstone to be active</span><br>
  <b class="b-r"></b><b class="b-0"></b> <span class="command">say Same as above</span><br>
  <b class="b-r"></b><b class="b-1"></b> <span class="command">say I'm a repeating command block that doesn't need redstone to be active</span>
</div>

<h2>Command blocks pile position</h2>

<p>
  By default command blocks spawn right above the command block that execute the summon command. You can tell the compiler to spawn a block pile at a
  certain place using the keyword <span class="cm-header">position</span>:
</p>

<div class="code">
position 150 50 40
i0:say I'm a command block and I live at 150 50 40
say I'm a command block and I live at 150 51 40

position ~5 ~ ~
i0:say I'm 5 blocks beside my summoner

// The command you will get by compiling this file summons 2 command block piles
</div>

<h2>Commands on multiple lines</h2>

<p>
  If you write very long commands you might want to split them on multiple lines. You can do it by adding spaces at the beginning of lines you want
  to join. For example:
</p>

<div class="code">
execute @r ~ ~ ~
  setblock minecraft:chest 0 replace
  {Items:[{id:"minecraft:potato",Count:2}]}
</div>

<p>
  Will compile to a single command block containing:
</p>

<div class="commandPile">
  <b class="b-c"></b><b class="b-1"></b> <span class="command">execute @r ~ ~ ~ setblock minecraft:chest 0 replace {Items:[{id:"minecraft:potato",Count:2}]}</span>
</div>

<p>
  By default, a space is inserted between joined lines. To avoid this behavior, insert a <span class="char">+</span> before your line.
</p>

<div class="code">
say joined
  +lines
</div>

<p>
  Will compile to a single command block containing:
</p>

<div class="commandPile">
  <b class="b-c"></b><b class="b-1"></b> <span class="command">say joinedlines</span>
</div>

<h2>Coordinates operations</h2>

<p>
  You can perform addition on coordinates using this syntax:
</p>

<div class="code">
setblock {# 1345 ~56 -257 + -10 5 20 #} stone
</div>

<p>
  Will compile to:
</p>

<div class="commandPile">
  <b class="b-c"></b><b class="b-1"></b> <span class="command">setblock 1335 ~61 -237 stone</span>
</div>

<h2>Variables</h2>

<p>
  Variables let you save data and re-use them later.
  All variable names must be preceded by a <span class="char">$</span>.
</p>

<div class="code">
$position = 1345 56 -257
setblock $position stone
</div>

<p>
  Will compile to:
</p>

<div class="commandPile">
  <b class="b-c"></b><b class="b-1"></b> <span class="command">setblock 1345 56 -257 stone</span>
</div>

<h2>Procedures</h2>

<p>
  A procedure will let you re-use one or more commands.
  You can define procedures using the <span class="cm-header">def</span> keyword.
  All procedures name must be preceded by a <span class="char">^</span>.
</p>

<div class="code">
def ^inline_def( $y = ~ )
  50 $y 70

def ^multiple_lines( $e, $block )
  execute $e ~ ~ ~ setblock ~ ~ ~ $block
  kill $e

i0:^multiple_lines( @e[type=Bat], tnt )
tp @p ^inline_def( 37 )
</div>

<p>
  Will compile to:
</p>

<div class="commandPile">
  <b class="b-i"></b><b class="b-0"></b> <span class="command">execute @e[type=Bat] ~ ~ ~ setblock ~ ~ ~ tnt</span><br>
  <b class="b-c"></b><b class="b-1"></b> <span class="command">kill @e[type=Bat]</span><br>
  <b class="b-c"></b><b class="b-1"></b> <span class="command">tp @p 50 37 70</span>
</div>

<h2>Escaping</h2>

<p>
  You can prevent characters from being interpreted. To do it, insert a <span class="char">\</span> before it.
</p>

<div class="code">
$var = cool
say the $var\est
say \$var

\def ok
</div>

<p>
  Will compile to:
</p>

<div class="commandPile">
  <b class="b-c"></b><b class="b-1"></b> <span class="command">say the coolest</span><br>
  <b class="b-c"></b><b class="b-1"></b> <span class="command">say $var</span><br>
  <b class="b-c"></b><b class="b-1"></b> <span class="command">def ok</span>
</div>

<h2>Commenting</h2>

<p>
  You can add comments to your file using the <span class="char">//</span> syntax.
</p>

<div class="code">
say hello // very important command
</div>

<p>
  Will compile to:
</p>

<div class="commandPile">
  <b class="b-c"></b><b class="b-1"></b> <span class="command">say hello</span>
</div>

<h2>Including other files</h2>

<p>
  You can import other files into a compiling file using the <span class="cm-header">include</span> keyword.
</p>

<div class="code">
// file_1
def ^hello($what)
  say Hello, $what!

// file_2
include file_1
^hello(world)
</div>

<p>
  Will compile to:
</p>

<div class="commandPile">
  <b class="b-c"></b><b class="b-1"></b> <span class="command">say Hello, world!</span></b>
</div>

</div>

</body>
</html>
